<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
	<title>iTest Learning :: Fase do Projeto</title>
	<link href="css/style.css" rel="stylesheet" type="text/css" />
	<h:outputScript library="primefaces" name="jquery/jquery.js"/>
	
	<h:outputScript>
		$(document).ready(function(){
			$('.proximo').hide();
		});
		
		function avancar(){
			if($(".alternativas input[checked='checked']").length >= 2){
				$('.proximo').show();
				$('.image_left').removeAttr('style');
				
			}else{
				$('.proximo').hide();
				$('.image_left').attr('style','margin-left:790px');
			}
		}
	</h:outputScript>
	
</h:head>
<body>
	<f:view>
		<h:form>
			<div id="slider">
				<div id="conta">
					<h:commandLink value="Fazer LogOut" action="#{jogoBean.logOut}" />
				</div>
				<div id="templatemo_wrapper">
					<div id="header">
						<h1>
							<a href="index.jsf">iTest Learning</a>
						</h1>
					</div>

					

					<div id="content">
						<div id="buttonsMenu">
							<p:commandLink title="Escopo do Projeto"
								oncomplete="dialogEscopo.show()" update="displayEscopo">
								<p:graphicImage value="images/note.png" width="70" height="70" />

								<h:outputText id="pontos" value="#{jogoBean.jogo.pontuacao}"
									style="float:right; font-size:50px; color:green;" />
								<h:outputText value="Pontuação:  "
									style="float:right; font-size:20px; color:green;" />

							</p:commandLink>

							<p:commandLink title="Ajuda" oncomplete="dialogAjuda.show()"
								update="displayAjuda">
								<p:graphicImage value="images/help.png" width="70" height="70" />
							</p:commandLink>
							<p:commandLink title="Verificar Resposta"
								actionListener="#{jogoBean.validarNiveisTeste}"
								oncomplete="dialog.show()"
								update="display, pontos, alternativas">
								<p:graphicImage value="images/check.png" width="70" height="70"
									styleClass="imageCheck" />
							</p:commandLink>
							<p:commandLink title="Terminar Jogo"
								action="#{jogoBean.terminarJogo}" ajax="false">
								<p:graphicImage value="images/stop.png" width="70" height="70" />
							</p:commandLink>
						</div>
						<h2>
							<h:outputText
								value="#{jogoBean.casoDeUsoBean.casoDeUso.nomeCasoDeUso}" />
							-
							<h:outputText value="#{jogoBean.projetoBean.projeto.nome}" />
						</h2>
						<div id="fase">
							<h3>
								<span
									style="color: green; font-weight: bold; text-decoration: underline;">Fluxo
									Principal: </span> <br />

								<h:graphicImage
									value="#{jogoBean.casoDeUsoBean.casoDeUso.desc_fluxo_principal}"></h:graphicImage>
								<br /> <span
									style="color: green; font-weight: bold; text-decoration: underline;">Fluxo
									Alternativo: </span> <br />

								<h:graphicImage
									value="#{jogoBean.casoDeUsoBean.casoDeUso.desc_fluxo_secundario}"></h:graphicImage>
								<br />




							</h3>
						</div>
						<div id="desafio">
							<p:selectManyCheckbox  id="alternativas" layout="pageDirection"
								styleClass="alternativas"
								value="#{jogoBean.casodeTesteBean.casoDeTesteSelecionados}"
								disabled="#{jogoBean.casodeTesteBean.respondido}"
								style="color:#228b22;  margin-botton:10px;" onchange="avancar()">

								<f:selectItems value="#{jogoBean.casodeTesteBean.casosDeTeste}"/>

							</p:selectManyCheckbox>
						</div>

						<p:commandLink title="Voltar" style="float: left"
							action="escolhaProjeto" ajax="false">
							<p:graphicImage value="images/return.png" styleClass="image_left" style="margin-left:790px"/>
						</p:commandLink>



						<p:commandLink styleClass="proximo" title="Avançar" style="float: right;"
							action="#{jogoBean.carregarExecucao}" ajax="false">
							<p:graphicImage value="images/go.png" styleClass="image_right" />
						</p:commandLink>

						<p:dialog header="Escopo do Projeto" id="dialogEscopo"
							widgetVar="dialogEscopo">
							<h:panelGrid id="displayEscopo">
								<h4>#{jogoBean.projetoBean.projeto.nome}</h4>
								<h:outputText value="#{jogoBean.projetoBean.projeto.descricao}" />
							</h:panelGrid>
						</p:dialog>

					</div>
					<div id="footer"></div>
				</div>
			</div>
		</h:form>
	</f:view>
</body>
</html>